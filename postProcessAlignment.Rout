
R version 3.3.1 (2016-06-21) -- "Bug in Your Hair"
Copyright (C) 2016 The R Foundation for Statistical Computing
Platform: x86_64-pc-linux-gnu (64-bit)

R is free software and comes with ABSOLUTELY NO WARRANTY.
You are welcome to redistribute it under certain conditions.
Type 'license()' or 'licence()' for distribution details.

  Natural language support but running in an English locale

R is a collaborative project with many contributors.
Type 'contributors()' for more information and
'citation()' on how to cite R or R packages in publications.

Type 'demo()' for some demos, 'help()' for on-line help, or
'help.start()' for an HTML browser interface to help.
Type 'q()' to quit R.

[Previously saved workspace restored]

> ##
> ## 
> ## Author: doreper
> ##
> ## After clusterDistribute has finished, call this script to assemble all the generated
> ## bam files into a dataframe, and then write the data frame out in various forms to file:
> ## 
> ## Among the output files:
> ## output/eventsPerPosPerJackpot.csv
> ## output/eventsPerGenePerDist.csv
> ## output/eventsPerGene.csv
> ## output/miriamEvents.csv
> ## output/miriamDiscreteEvents.csv
> 
> 
> #####################################################
> readFrame=NULL
> x=gc()
> 
> source("rfunclib.R")
Loading required package: VariantAnnotation
Loading required package: BiocGenerics
Loading required package: parallel

Attaching package: ‘BiocGenerics’

The following objects are masked from ‘package:parallel’:

    clusterApply, clusterApplyLB, clusterCall, clusterEvalQ,
    clusterExport, clusterMap, parApply, parCapply, parLapply,
    parLapplyLB, parRapply, parSapply, parSapplyLB

The following objects are masked from ‘package:stats’:

    IQR, mad, xtabs

The following objects are masked from ‘package:base’:

    anyDuplicated, append, as.data.frame, cbind, colnames, do.call,
    duplicated, eval, evalq, Filter, Find, get, grep, grepl, intersect,
    is.unsorted, lapply, lengths, Map, mapply, match, mget, order,
    paste, pmax, pmax.int, pmin, pmin.int, Position, rank, rbind,
    Reduce, rownames, sapply, setdiff, sort, table, tapply, union,
    unique, unsplit

Loading required package: GenomeInfoDb
Loading required package: stats4
Loading required package: S4Vectors

Attaching package: ‘S4Vectors’

The following objects are masked from ‘package:base’:

    colMeans, colSums, expand.grid, rowMeans, rowSums

Loading required package: IRanges
Loading required package: GenomicRanges
Loading required package: SummarizedExperiment
Loading required package: Biobase
Welcome to Bioconductor

    Vignettes contain introductory material; view with
    'browseVignettes()'. To cite Bioconductor, see
    'citation("Biobase")', and for packages 'citation("pkgname")'.

Loading required package: Rsamtools
Loading required package: Biostrings
Loading required package: XVector

Attaching package: ‘VariantAnnotation’

The following object is masked from ‘package:base’:

    tabulate


Attaching package: ‘plyr’

The following object is masked from ‘package:XVector’:

    compact

The following object is masked from ‘package:IRanges’:

    desc

The following object is masked from ‘package:S4Vectors’:

    rename

Loading required package: foreach
Loading required package: iterators
Loading required package: BiocParallel
Loading required package: GenomicAlignments

Attaching package: ‘ShortRead’

The following object is masked from ‘package:plyr’:

    id

Loading required package: reshape

Attaching package: ‘reshape’

The following objects are masked from ‘package:plyr’:

    rename, round_any

The following object is masked from ‘package:VariantAnnotation’:

    expand

The following objects are masked from ‘package:S4Vectors’:

    expand, rename

Loading required package: biovizBase
Loading required package: brew
Loading required package: xtable
Loading required package: testthat

Attaching package: 'testthat'

The following object is masked from 'package:S4Vectors':

    compare


Attaching package: 'data.table'

The following object is masked from 'package:reshape':

    melt

The following object is masked from 'package:ShortRead':

    tables

The following object is masked from 'package:GenomicAlignments':

    last

The following object is masked from 'package:SummarizedExperiment':

    shift

The following object is masked from 'package:GenomicRanges':

    shift

The following object is masked from 'package:IRanges':

    shift

Loading required package: grid
[1] "override arg is ../config/config.txt"       
[2] "override arg is ../config/configCluster.txt"
[1] "../config/config.txt"
[1] "../config/configCluster.txt"
[1] "done loading"
[1] "*********"
[1] "alg"
[1] "bwa"
[1] "*********"
[1] "blockStart"
[1] 1
[1] "*********"
[1] "buildConfigs"
[1] FALSE
[1] "*********"
[1] "bwa"
$aln
$aln$valued
$aln$valued$i
[1] 0

$aln$valued$R
[1] 5000

$aln$valued$prop_n
[1] 2

$aln$valued$o
[1] 1


$aln$binary
[1] "prop_N"


$aln2
$aln2$valued
$aln2$valued$i
[1] 0

$aln2$valued$R
[1] 5000

$aln2$valued$prop_n
[1] 2

$aln2$valued$o
[1] 1


$aln2$binary
[1] "prop_N"


$samse
$samse$valued
$samse$valued$prop_n
[1] 5000



[1] "*********"
[1] "bwaCom"
[1] "bwa"
[1] "*********"
[1] "clusterLogDir"
[1] "clusterLogs/"
[1] "*********"
[1] "clusterRunCommand"
[1] "bsub -M 30 -q day -C 0 R CMD BATCH --no-save --no-restore  '--args ' processIllumina.R"
[1] "*********"
[1] "dataDir"
[1] "../dataset/"
[1] "*********"
[1] "ellenAnnotationsFile"
[1] "h37rv/derived/ellen_metaDataExpProteins.csv"
[1] "*********"
[1] "experimentDataFile"
[1] "experimentData.csv"
[1] "*********"
[1] "experimentId"
[1] 1057
[1] "*********"
[1] "fastaAlignPrefix"
[1] "allignFasta"
[1] "*********"
[1] "fixDists"
[1] TRUE
[1] "*********"
[1] "genomeSummaryFile"
[1] "h37rv/tbdb/mycobacterium_tuberculosis_h37rv_2_genome_summary.txt"
[1] "*********"
[1] "handAnnotationsFile"
[1] "h37rv/derived/handAnnotations.csv"
[1] "*********"
[1] "includedExperiments"
[1] 1068 1058 1062 1064 1067 1057 1061 1063 1060
[1] "*********"
[1] "includeMetaData"
[1] TRUE
[1] "*********"
[1] "jackpotIndexFile"
[1] "jackpotIndex"
[1] "*********"
[1] "maxError"
$a1
$a1$mm
[1] 2

$a1$insdel
[1] 1


$a3
$a3$mm
[1] 2

$a3$insdel
[1] 1


$r1
$r1$mm
[1] 2

$r1$insdel
[1] 1


$r3
$r3$mm
[1] 1

$r3$insdel
[1] 1


$r1_r3
$r1_r3$mm
[1] 2

$r1_r3$insdel
[1] 1


$total
$total$mm
[1] 3

$total$insdel
[1] 1


[1] "*********"
[1] "maxNumReads"
[1] -1
[1] "*********"
[1] "outputDir"
[1] "../output/"
[1] "*********"
[1] "pairOrientation"
$bwa
[1] "RF"

$mosaik
[1] "FF"

[1] "*********"
[1] "postProcessDir"
[1] "postProcess"
[1] "*********"
[1] "pythonLogConfigFile"
[1] "../config/logging.config"
[1] "*********"
[1] "readProcessingBlockSize"
[1] 4000000
[1] "*********"
[1] "removeQualityMetrics"
[1] TRUE
[1] "*********"
[1] "removeReadsWithoutJackpot"
[1] TRUE
[1] "*********"
[1] "resourcesDir"
[1] "../resources/"
[1] "*********"
[1] "samtoolsCom"
[1] "samtools"
[1] "*********"
[1] "seqDir"
[1] "seq"
[1] "*********"
[1] "tbAnnotationsFile"
[1] "h37rv/h37rv_refseq.txt"
[1] "*********"
[1] "tbReferenceGenomeFile"
[1] "h37rv/tbdb/mycobacterium_tuberculosis_h37rv_2_supercontigs.fasta"
[1] "*********"
[1] "trimmedFastaDir"
[1] "/fasta/"
[1] "*********"
[1] "turnOffCigar"
[1] TRUE
[1] "*********"
[1] "turnOffSeq"
[1] TRUE
[1] "*********"
[1] "useProfiler"
[1] FALSE
Warning message:
In loadParamRecurseHelp(prop, propOver) :
  prop in override file doesn't exist in default: propOver:igvtoolsDir
> experimentData = getExperimentData()
[1] 1068 1058 1062 1064 1067 1057 1061 1063 1060
> 
> x=gc()
> dir.create(file.path(allProps$outputDir, allProps$postProcessDir), showWarnings = FALSE)
> if(allProps$useProfiler)
+ {
+ 	Rprof(file.path(allProps$outputDir, allProps$postProcessDir, "Rprof.out"));
+ }
> allStats = list("statType"=c(), "value"=c())
> tbref = getTbRef()
[1] "pre set names"
[1] "post set names"
[1] "started up down"
[1] 4411532
Error in nearestDownstreamGene[[strandType]][startNonGene:stopNonGene] = downstreamGene$geneIndex : 
  replacement has length zero
Calls: getTbRef -> getNearestUpstreamDownstreamGenes
In addition: Warning messages:
1: In `[<-.data.table`(`*tmp*`, as.character(genomeAnnotation$Strand) ==  :
  Coerced 'double' RHS to 'integer' to match the column's type; may have truncated precision. Either change the target column to 'double' first (by creating a new 'double' vector length 3998 (nrows of entire table) and assign that; i.e. 'replace' column), or coerce RHS to 'integer' (e.g. 1L, NA_[real|integer]_, as.*, etc) to make your intent clear and for speed. Or, set the column type correctly up front when you create the table and stick to it, please.
2: In `[<-.data.table`(`*tmp*`, as.character(genomeAnnotation$Strand) ==  :
  Coerced 'double' RHS to 'integer' to match the column's type; may have truncated precision. Either change the target column to 'double' first (by creating a new 'double' vector length 3998 (nrows of entire table) and assign that; i.e. 'replace' column), or coerce RHS to 'integer' (e.g. 1L, NA_[real|integer]_, as.*, etc) to make your intent clear and for speed. Or, set the column type correctly up front when you create the table and stick to it, please.
3: In alloc.col(x) :
  Attempt to reduce allocation from 120 to 119 ignored. Can only increase allocation via shallow copy.
4: In alloc.col(x) :
  Attempt to reduce allocation from 119 to 118 ignored. Can only increase allocation via shallow copy.
5: In alloc.col(x) :
  Attempt to reduce allocation from 118 to 117 ignored. Can only increase allocation via shallow copy.
6: In alloc.col(x) :
  Attempt to reduce allocation from 117 to 116 ignored. Can only increase allocation via shallow copy.
7: In alloc.col(x) :
  Attempt to reduce allocation from 116 to 115 ignored. Can only increase allocation via shallow copy.
8: In alloc.col(x) :
  Attempt to reduce allocation from 115 to 114 ignored. Can only increase allocation via shallow copy.
9: In alloc.col(x) :
  Attempt to reduce allocation from 114 to 113 ignored. Can only increase allocation via shallow copy.
Execution halted
